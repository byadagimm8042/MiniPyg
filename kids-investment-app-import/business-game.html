<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸª Kid Business Empire</title>
    <style>
        body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); margin: 0; padding: 20px; }
        .game-container { max-width: 1000px; margin: 0 auto; background: white; border-radius: 20px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .header { text-align: center; margin-bottom: 30px; }
        .stats { display: flex; justify-content: space-around; background: #e8f5e8; padding: 15px; border-radius: 15px; margin-bottom: 20px; }
        .stat { text-align: center; }
        .stat-value { font-size: 24px; font-weight: bold; color: #2e7d32; }
        .businesses { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .business { background: #f8f9fa; border-radius: 15px; padding: 20px; border: 3px solid #dee2e6; }
        .business.owned { border-color: #28a745; background: #d4edda; }
        .business-icon { font-size: 48px; text-align: center; margin-bottom: 10px; }
        .business-name { font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 10px; }
        .business-stats { font-size: 14px; margin-bottom: 15px; }
        .btn { padding: 10px 20px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; margin: 5px; }
        .btn-buy { background: #007bff; color: white; }
        .btn-upgrade { background: #28a745; color: white; }
        .btn-collect { background: #ffc107; color: black; }
        .btn:hover { opacity: 0.8; }
        .achievements { background: #fff3cd; padding: 15px; border-radius: 15px; margin-top: 20px; }
        .achievement { display: inline-block; background: #ffc107; padding: 5px 10px; border-radius: 15px; margin: 5px; font-size: 12px; }
        .market-events { background: #d1ecf1; padding: 15px; border-radius: 15px; margin-bottom: 20px; }
        .event { background: #17a2b8; color: white; padding: 10px; border-radius: 10px; margin: 5px 0; }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>ğŸª Kid Business Empire</h1>
            <p>Build your business empire and become a young entrepreneur!</p>
        </div>

        <div class="stats">
            <div class="stat">
                <div class="stat-value">$<span id="money">100</span></div>
                <div>Money</div>
            </div>
            <div class="stat">
                <div class="stat-value"><span id="income">0</span>/sec</div>
                <div>Income</div>
            </div>
            <div class="stat">
                <div class="stat-value"><span id="energy">100</span></div>
                <div>Energy</div>
            </div>
            <div class="stat">
                <div class="stat-value"><span id="level">1</span></div>
                <div>Level</div>
            </div>
            <div class="stat">
                <div class="stat-value"><span id="reputation">0</span></div>
                <div>Reputation</div>
            </div>
        </div>

        <div class="earning-section" style="background: #e3f2fd; padding: 15px; border-radius: 15px; margin-bottom: 20px;">
            <h3>ğŸ’¼ Earn Money (Different Ways)</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                <button class="btn" style="background: #4caf50; color: white;" onclick="doChores()">ğŸ§¹ Chores (Wages)</button>
                <button class="btn" style="background: #2196f3; color: white;" onclick="tutorKids()">ğŸ“š Tutor (Skills)</button>
                <button class="btn" style="background: #ff9800; color: white;" onclick="sellCrafts()">ğŸ¨ Crafts (Commission)</button>
                <button class="btn" style="background: #9c27b0; color: white;" onclick="walkDogs()">ğŸ• Dog Walk (Wages+Tips)</button>
                <button class="btn" style="background: #f44336; color: white;" onclick="startBusiness()">ğŸª Start Business ($50)</button>
                <button class="btn" style="background: #795548; color: white;" onclick="rentProperty()">ğŸ  Rent Property ($100)</button>
                <button class="btn" style="background: #607d8b; color: white;" onclick="receiveAllowance()">ğŸ’ Allowance (Gift)</button>
                <button class="btn" style="background: #e91e63; color: white;" onclick="payTaxes()">ğŸ›ï¸ Pay Taxes (10%)</button>
                <button class="btn" style="background: #607d8b; color: white;" onclick="restEnergy()">ğŸ˜´ Rest</button>
            </div>
            
            <div style="margin-top: 20px;">
                <h4>ğŸª Business Investments</h4>
                <div class="businesses" id="businesses"></div>
            </div>
        </div>

        <div class="achievements">
            <h3>ğŸ† Achievements</h3>
            <div id="achievements"></div>
        </div>

        <div class="market-events">
            <h3>ğŸ“ˆ Market News</h3>
            <div id="events"></div>
        </div>
    </div>

    <script>
        let gameState = {
            money: 100,
            income: 0,
            energy: 100,
            level: 1,
            reputation: 0,
            businesses: {},
            achievements: [],
            events: []
        };

        const businessTypes = {
            lemonade: {
                name: "ğŸ‹ Lemonade Stand",
                baseCost: 50,
                baseIncome: 1,
                description: "Classic kid business - squeeze those lemons!",
                upgrades: ["Better Lemons", "Fancy Cups", "Prime Location"]
            },
            cookies: {
                name: "ğŸª Cookie Shop",
                baseCost: 200,
                baseIncome: 5,
                description: "Grandma's secret recipe brings customers!",
                upgrades: ["Secret Recipe", "Bigger Oven", "Delivery Service"]
            },
            petcare: {
                name: "ğŸ• Pet Care Service",
                baseCost: 500,
                baseIncome: 12,
                description: "Walk dogs and care for neighborhood pets",
                upgrades: ["More Leashes", "Pet Grooming", "Pet Hotel"]
            },
            arcade: {
                name: "ğŸ® Mini Arcade",
                baseCost: 1000,
                baseIncome: 25,
                description: "Kids love games - build your gaming empire!",
                upgrades: ["New Games", "Prize Counter", "Tournament Mode"]
            },
            bookstore: {
                name: "ğŸ“š Book Corner",
                baseCost: 2000,
                baseIncome: 50,
                description: "Knowledge is power - and profitable!",
                upgrades: ["Rare Books", "Reading Club", "Author Events"]
            },
            tech: {
                name: "ğŸ’» Tech Repair",
                baseCost: 5000,
                baseIncome: 100,
                description: "Fix phones and computers for big profits",
                upgrades: ["Better Tools", "Online Service", "Tech Training"]
            }
        };

        const achievements = [
            { id: "first_business", name: "First Business", desc: "Buy your first business", reward: 50 },
            { id: "money_maker", name: "Money Maker", desc: "Earn $1000", reward: 100 },
            { id: "empire_builder", name: "Empire Builder", desc: "Own 3 businesses", reward: 200 },
            { id: "reputation_king", name: "Reputation King", desc: "Reach 100 reputation", reward: 300 },
            { id: "hard_worker", name: "Hard Worker", desc: "Complete 10 earning tasks", reward: 150 },
            { id: "energy_master", name: "Energy Master", desc: "Manage energy efficiently", reward: 100 }
        ];

        const marketEvents = [
            "ğŸŒ Summer heat increases lemonade sales by 50%!",
            "ğŸª Cookie shortage - prices doubled!",
            "ğŸ• Pet adoption event brings more customers!",
            "ğŸ® New game release boosts arcade profits!",
            "ğŸ“š Back to school season increases book sales!",
            "ğŸ’» Virus outbreak - tech repair in high demand!"
        ];

        function updateDisplay() {
            document.getElementById('money').textContent = Math.floor(gameState.money);
            document.getElementById('income').textContent = gameState.income.toFixed(1);
            document.getElementById('energy').textContent = gameState.energy;
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('reputation').textContent = gameState.reputation;
        }

        function renderBusinesses() {
            const container = document.getElementById('businesses');
            container.innerHTML = '';

            Object.keys(businessTypes).forEach(type => {
                const business = businessTypes[type];
                const owned = gameState.businesses[type] || { count: 0, level: 0 };
                const cost = business.baseCost * Math.pow(1.5, owned.count);
                const income = business.baseIncome * owned.count * (1 + owned.level * 0.5);

                const div = document.createElement('div');
                div.className = `business ${owned.count > 0 ? 'owned' : ''}`;
                div.innerHTML = `
                    <div class="business-icon">${business.name.split(' ')[0]}</div>
                    <div class="business-name">${business.name}</div>
                    <div class="business-stats">
                        <div>Owned: ${owned.count}</div>
                        <div>Income: $${income.toFixed(1)}/sec</div>
                        <div>Cost: $${Math.floor(cost)}</div>
                        <div>Level: ${owned.level}</div>
                    </div>
                    <div>
                        <button class="btn btn-buy" onclick="buyBusiness('${type}')">
                            ${owned.count > 0 ? 'Buy More' : 'Start Business'}
                        </button>
                        ${owned.count > 0 ? `<button class="btn btn-upgrade" onclick="upgradeBusiness('${type}')">Upgrade ($${Math.floor(cost * 0.5)})</button>` : ''}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function buyBusiness(type) {
            const business = businessTypes[type];
            const owned = gameState.businesses[type] || { count: 0, level: 0 };
            const cost = business.baseCost * Math.pow(1.5, owned.count);

            if (gameState.money >= cost) {
                gameState.money -= cost;
                if (!gameState.businesses[type]) {
                    gameState.businesses[type] = { count: 0, level: 0 };
                }
                gameState.businesses[type].count++;
                gameState.reputation += 5;
                
                calculateIncome();
                checkAchievements();
                updateDisplay();
                renderBusinesses();
                
                if (owned.count === 0) {
                    showNotification(`ğŸ‰ You started a ${business.name}!`);
                }
            } else {
                showNotification("ğŸ’¸ Not enough money!");
            }
        }

        function upgradeBusiness(type) {
            const business = businessTypes[type];
            const owned = gameState.businesses[type];
            const cost = business.baseCost * Math.pow(1.5, owned.count) * 0.5;

            if (gameState.money >= cost && owned.count > 0) {
                gameState.money -= cost;
                owned.level++;
                gameState.reputation += 10;
                
                calculateIncome();
                updateDisplay();
                renderBusinesses();
                showNotification(`â¬†ï¸ Upgraded ${business.name}!`);
            }
        }

        function calculateIncome() {
            gameState.income = 0;
            Object.keys(gameState.businesses).forEach(type => {
                const business = businessTypes[type];
                const owned = gameState.businesses[type];
                gameState.income += business.baseIncome * owned.count * (1 + owned.level * 0.5);
            });
        }

        function checkAchievements() {
            achievements.forEach(achievement => {
                if (!gameState.achievements.includes(achievement.id)) {
                    let earned = false;
                    
                    switch(achievement.id) {
                        case "first_business":
                            earned = Object.values(gameState.businesses).some(b => b.count > 0);
                            break;
                        case "money_maker":
                            earned = gameState.money >= 1000;
                            break;
                        case "empire_builder":
                            earned = Object.values(gameState.businesses).filter(b => b.count > 0).length >= 3;
                            break;
                        case "reputation_king":
                            earned = gameState.reputation >= 100;
                            break;
                    }
                    
                    if (earned) {
                        gameState.achievements.push(achievement.id);
                        gameState.money += achievement.reward;
                        showNotification(`ğŸ† Achievement: ${achievement.name} (+$${achievement.reward})`);
                        renderAchievements();
                    }
                }
            });
        }

        function renderAchievements() {
            const container = document.getElementById('achievements');
            container.innerHTML = gameState.achievements.map(id => {
                const achievement = achievements.find(a => a.id === id);
                return `<span class="achievement">${achievement.name}</span>`;
            }).join('');
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = 'position:fixed;top:20px;right:20px;background:#28a745;color:white;padding:15px;border-radius:10px;z-index:1000;';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        function showLearningTip(message) {
            const tip = document.createElement('div');
            tip.style.cssText = 'position:fixed;top:80px;right:20px;background:#2196F3;color:white;padding:15px;border-radius:10px;z-index:1000;max-width:300px;font-size:14px;';
            tip.textContent = message;
            document.body.appendChild(tip);
            setTimeout(() => tip.remove(), 5000);
        }

        function restEnergy() {
            gameState.energy = Math.min(100, gameState.energy + 50);
            showNotification('ğŸ˜´ Rested and recharged!');
            updateDisplay();
        }

        function triggerRandomEvent() {
            if (Math.random() < 0.3) {
                const event = marketEvents[Math.floor(Math.random() * marketEvents.length)];
                const eventDiv = document.createElement('div');
                eventDiv.className = 'event';
                eventDiv.textContent = event;
                document.getElementById('events').appendChild(eventDiv);
                
                setTimeout(() => eventDiv.remove(), 10000);
            }
        }

        // Game loop
        setInterval(() => {
            gameState.money += gameState.income;
            if (gameState.energy < 100) gameState.energy = Math.min(100, gameState.energy + 1);
            updateDisplay();
            triggerRandomEvent();
        }, 1000);

        // Earning functions
        function doChores() {
            showHomeChoresGame();
        }

        function showHomeChoresGame() {
            const modal = document.createElement('div');
            modal.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:2000;overflow-y:auto;';
            
            modal.innerHTML = `
                <div style="background:white;margin:20px;border-radius:20px;padding:30px;min-height:calc(100vh-40px);">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;">
                        <h1>ğŸ  Welcome Home! Choose a Room to Clean</h1>
                        <button onclick="closeHomeGame()" style="background:#f44336;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;">Close</button>
                    </div>
                    
                    <div style="display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:20px;height:600px;">
                        <div class="room kitchen" onclick="enterHomeRoom('kitchen')" style="background:linear-gradient(135deg, #FFE0B2 0%, #FFCC80 100%);border:3px solid #333;border-radius:15px;padding:20px;cursor:pointer;transition:all 0.3s;">
                            <div style="font-size:24px;font-weight:bold;text-align:center;margin-bottom:15px;">ğŸ³ Kitchen</div>
                            <ul style="list-style:none;padding:0;">
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Wash Dishes</span><span id="dishes-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Clean Counter</span><span id="counter-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Sweep Floor</span><span id="sweep-status">âŒ</span>
                                </li>
                            </ul>
                            <div style="text-align:center;margin-top:15px;font-weight:bold;color:#FF6B35;">ğŸ’° Earn $15</div>
                        </div>
                        
                        <div class="room living-room" onclick="enterHomeRoom('living')" style="background:linear-gradient(135deg, #E1F5FE 0%, #B3E5FC 100%);border:3px solid #333;border-radius:15px;padding:20px;cursor:pointer;transition:all 0.3s;">
                            <div style="font-size:24px;font-weight:bold;text-align:center;margin-bottom:15px;">ğŸ›‹ï¸ Living Room</div>
                            <ul style="list-style:none;padding:0;">
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Vacuum Carpet</span><span id="vacuum-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Dust Furniture</span><span id="dust-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Organize Books</span><span id="books-status">âŒ</span>
                                </li>
                            </ul>
                            <div style="text-align:center;margin-top:15px;font-weight:bold;color:#FF6B35;">ğŸ’° Earn $12</div>
                        </div>
                        
                        <div class="room bedroom" onclick="enterHomeRoom('bedroom')" style="background:linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%);border:3px solid #333;border-radius:15px;padding:20px;cursor:pointer;transition:all 0.3s;">
                            <div style="font-size:24px;font-weight:bold;text-align:center;margin-bottom:15px;">ğŸ›ï¸ Bedroom</div>
                            <ul style="list-style:none;padding:0;">
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Make Bed</span><span id="bed-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Fold Clothes</span><span id="clothes-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Organize Toys</span><span id="toys-status">âŒ</span>
                                </li>
                            </ul>
                            <div style="text-align:center;margin-top:15px;font-weight:bold;color:#FF6B35;">ğŸ’° Earn $10</div>
                        </div>
                        
                        <div class="room bathroom" onclick="enterHomeRoom('bathroom')" style="background:linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%);border:3px solid #333;border-radius:15px;padding:20px;cursor:pointer;transition:all 0.3s;">
                            <div style="font-size:24px;font-weight:bold;text-align:center;margin-bottom:15px;">ğŸš¿ Bathroom</div>
                            <ul style="list-style:none;padding:0;">
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Clean Toilet</span><span id="toilet-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Wipe Mirror</span><span id="mirror-status">âŒ</span>
                                </li>
                                <li style="background:rgba(255,255,255,0.8);margin:8px 0;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;">
                                    <span>Mop Floor</span><span id="mop-status">âŒ</span>
                                </li>
                            </ul>
                            <div style="text-align:center;margin-top:15px;font-weight:bold;color:#FF6B35;">ğŸ’° Earn $8</div>
                        </div>
                    </div>
                    
                    <div id="homeGameArea" style="margin-top:30px;"></div>
                </div>
            `;
            
            document.body.appendChild(modal);
            window.currentHomeModal = modal;
        }

        let homeGameState = { completedChores: {}, currentRoom: null, choreProgress: 0, choreTarget: 0 };
        
        const homeRoomChores = {
            kitchen: { chores: [{ id: 'dishes', name: 'Wash Dishes', reward: 5, items: 8 }, { id: 'counter', name: 'Clean Counter', reward: 4, items: 6 }, { id: 'sweep', name: 'Sweep Floor', reward: 6, items: 12 }] },
            living: { chores: [{ id: 'vacuum', name: 'Vacuum Carpet', reward: 5, items: 10 }, { id: 'dust', name: 'Dust Furniture', reward: 4, items: 8 }, { id: 'books', name: 'Organize Books', reward: 3, items: 15 }] },
            bedroom: { chores: [{ id: 'bed', name: 'Make Bed', reward: 3, items: 4 }, { id: 'clothes', name: 'Fold Clothes', reward: 4, items: 12 }, { id: 'toys', name: 'Organize Toys', reward: 3, items: 10 }] },
            bathroom: { chores: [{ id: 'toilet', name: 'Clean Toilet', reward: 3, items: 5 }, { id: 'mirror', name: 'Wipe Mirror', reward: 2, items: 8 }, { id: 'mop', name: 'Mop Floor', reward: 3, items: 15 }] }
        };

        function enterHomeRoom(roomType) {
            const gameArea = document.getElementById('homeGameArea');
            const room = homeRoomChores[roomType];
            homeGameState.currentRoom = roomType;
            
            gameArea.innerHTML = `
                <h2>ğŸ  ${roomType.charAt(0).toUpperCase() + roomType.slice(1)}</h2>
                <p>Choose a chore to complete:</p>
                <div style="display:grid;gap:10px;margin:20px 0;">
                    ${room.chores.map(chore => `
                        <button onclick="startHomeChore('${chore.id}')" style="background:#4CAF50;color:white;border:none;padding:15px;border-radius:10px;cursor:pointer;${homeGameState.completedChores[chore.id] ? 'background:#ccc;' : ''}">
                            ${chore.name} - $${chore.reward} ${homeGameState.completedChores[chore.id] ? 'âœ…' : ''}
                        </button>
                    `).join('')}
                </div>
                <div id="choreGameArea" style="min-height:300px;border:2px solid #ddd;border-radius:10px;position:relative;background:linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);"></div>
                <div style="margin:20px 0;">
                    <div style="background:#ddd;height:20px;border-radius:10px;overflow:hidden;">
                        <div id="homeProgressFill" style="background:#4CAF50;height:100%;width:0%;transition:width 0.5s;"></div>
                    </div>
                    <div id="homeProgressText">Choose a chore to start!</div>
                </div>
            `;
        }

        function startHomeChore(choreId) {
            if (homeGameState.completedChores[choreId]) return;
            
            const room = homeRoomChores[homeGameState.currentRoom];
            const chore = room.chores.find(c => c.id === choreId);
            homeGameState.choreProgress = 0;
            homeGameState.choreTarget = chore.items;
            homeGameState.currentChore = chore;
            
            generateHomeChoreItems(choreId);
            updateHomeProgress();
        }

        function generateHomeChoreItems(choreId) {
            const gameArea = document.getElementById('choreGameArea');
            gameArea.innerHTML = '';
            
            if (choreId === 'dishes') {
                gameArea.innerHTML = `
                    <div style="position:absolute;bottom:20px;left:50px;width:200px;height:100px;background:#C0C0C0;border:3px solid #888;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;">ğŸš° Kitchen Sink</div>
                `;
                
                const dishTypes = ['ğŸ½ï¸', 'ğŸ¥„', 'ğŸ´', 'ğŸ¥¢'];
                for (let i = 0; i < homeGameState.choreTarget; i++) {
                    const dish = document.createElement('div');
                    dish.textContent = dishTypes[i % dishTypes.length];
                    dish.style.cssText = `position:absolute;top:${Math.random()*200+50}px;left:${Math.random()*400+100}px;font-size:35px;cursor:pointer;filter:sepia(100%);`;
                    dish.onclick = () => cleanHomeItem(dish);
                    gameArea.appendChild(dish);
                }
            } else {
                const items = { counter: 'ğŸ§½', sweep: 'ğŸŸ¤', vacuum: 'ğŸŸ«', dust: 'ğŸ’¨', books: 'ğŸ“š', bed: 'ğŸ›ï¸', clothes: 'ğŸ‘•', toys: 'ğŸ§¸', toilet: 'ğŸš½', mirror: 'âœ¨', mop: 'ğŸ’§' };
                
                for (let i = 0; i < homeGameState.choreTarget; i++) {
                    const item = document.createElement('div');
                    item.textContent = items[choreId];
                    item.style.cssText = `position:absolute;top:${Math.random()*250}px;left:${Math.random()*600}px;font-size:30px;cursor:pointer;`;
                    item.onclick = () => cleanHomeItem(item);
                    gameArea.appendChild(item);
                }
            }
        }

        function cleanHomeItem(item) {
            if (item.classList.contains('cleaned')) return;
            
            item.style.filter = 'none';
            item.style.transform = 'scale(1.2)';
            item.style.color = '#4CAF50';
            item.classList.add('cleaned');
            
            homeGameState.choreProgress++;
            updateHomeProgress();
            
            if (homeGameState.choreProgress >= homeGameState.choreTarget) {
                setTimeout(() => completeHomeChore(), 500);
            }
        }

        function updateHomeProgress() {
            const percentage = (homeGameState.choreProgress / homeGameState.choreTarget) * 100;
            document.getElementById('homeProgressFill').style.width = percentage + '%';
            document.getElementById('homeProgressText').textContent = `Progress: ${homeGameState.choreProgress}/${homeGameState.choreTarget}`;
        }

        function completeHomeChore() {
            const chore = homeGameState.currentChore;
            homeGameState.completedChores[chore.id] = true;
            
            if (gameState.energy >= 20) {
                gameState.money += chore.reward;
                gameState.energy -= 20;
                gameState.reputation += 2;
                updateDisplay();
            }
            
            document.getElementById(chore.id + '-status').textContent = 'âœ…';
            showNotification(`ğŸ‰ ${chore.name} completed! Earned $${chore.reward}!`);
            showLearningTip('ğŸ’¡ Learning: You earned wages by completing household chores!');
            
            enterHomeRoom(homeGameState.currentRoom);
        }

        function closeHomeGame() {
            if (window.currentHomeModal) {
                window.currentHomeModal.remove();
                window.currentHomeModal = null;
            }
        }

        function tutorKids() {
            if (gameState.energy >= 30) {
                gameState.money += 25;
                gameState.energy -= 30;
                gameState.reputation += 5;
                gameState.tasksCompleted = (gameState.tasksCompleted || 0) + 1;
                showNotification('ğŸ“š Tutored kids! Earned $25 (using knowledge & skills)');
                showLearningTip('ğŸ’¡ Learning: Higher skills = higher income! Education pays off!');
                updateDisplay();
            } else {
                showNotification('ğŸ˜´ Too tired! Rest first.');
            }
        }

        function sellCrafts() {
            if (gameState.energy >= 25) {
                const earnings = Math.floor(Math.random() * 10) + 10; // $10-20 (commission-based)
                gameState.money += earnings;
                gameState.energy -= 25;
                gameState.reputation += 3;
                gameState.tasksCompleted = (gameState.tasksCompleted || 0) + 1;
                showNotification(`ğŸ¨ Sold crafts! Earned $${earnings} (commission-based)`);
                showLearningTip('ğŸ’¡ Learning: Entrepreneurs earn different amounts based on sales!');
                updateDisplay();
            } else {
                showNotification('ğŸ˜´ Too tired! Rest first.');
            }
        }

        function walkDogs() {
            if (gameState.energy >= 35) {
                const baseWage = 15;
                const tips = Math.floor(Math.random() * 8) + 2; // $2-10 tips
                const total = baseWage + tips;
                gameState.money += total;
                gameState.energy -= 35;
                gameState.reputation += 4;
                gameState.tasksCompleted = (gameState.tasksCompleted || 0) + 1;
                showNotification(`ğŸ• Walked dogs! Earned $${baseWage} + $${tips} tips = $${total}`);
                showLearningTip('ğŸ’¡ Learning: Some jobs pay wages PLUS tips for good service!');
                updateDisplay();
            } else {
                showNotification('ğŸ˜´ Too tired! Rest first.');
            }
        }

        function startBusiness() {
            if (gameState.money >= 50 && gameState.energy >= 40) {
                const profit = Math.floor(Math.random() * 30) + 20; // $20-50 profit
                gameState.money += profit - 50; // Subtract initial investment
                gameState.energy -= 40;
                gameState.reputation += 8;
                gameState.businessesStarted = (gameState.businessesStarted || 0) + 1;
                showNotification(`ğŸª Business earned $${profit} profit! (Investment: $50)`);
                showLearningTip('ğŸ’¡ Learning: Entrepreneurs invest money to start businesses and earn profits!');
                updateDisplay();
            } else if (gameState.money < 50) {
                showNotification('ğŸ’¸ Need $50 to start a business!');
            } else {
                showNotification('ğŸ˜´ Too tired! Rest first.');
            }
        }

        function rentProperty() {
            if (gameState.money >= 100) {
                const rental = 15;
                gameState.money += rental;
                gameState.reputation += 3;
                gameState.rentalIncome = (gameState.rentalIncome || 0) + rental;
                showNotification(`ğŸ  Rental income! Earned $${rental} (passive income)`);
                showLearningTip('ğŸ’¡ Learning: Property owners can earn money by renting to others!');
                updateDisplay();
            } else {
                showNotification('ğŸ’¸ Need $100 to buy rental property!');
            }
        }

        function receiveAllowance() {
            const allowance = 20;
            gameState.money += allowance;
            gameState.allowanceReceived = (gameState.allowanceReceived || 0) + allowance;
            showNotification(`ğŸ’ Weekly allowance! Received $${allowance} (gift income)`);
            showLearningTip('ğŸ’¡ Learning: Allowances are gifts that don\'t require specific work!');
            updateDisplay();
        }

        function payTaxes() {
            const taxRate = 0.1; // 10% tax
            const taxes = Math.floor(gameState.money * taxRate);
            if (taxes > 0) {
                gameState.money -= taxes;
                gameState.taxesPaid = (gameState.taxesPaid || 0) + taxes;
                showNotification(`ğŸ›ï¸ Paid $${taxes} in taxes (10% of income)`);
                showLearningTip('ğŸ’¡ Learning: Taxes pay for schools, police, libraries, and roads!');
                updateDisplay();
            }
        }

        // Initialize game
        updateDisplay();
        renderBusinesses();
        renderAchievements();
    </script>
</body>
</html>